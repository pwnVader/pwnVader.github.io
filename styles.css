/* Estilo terminal retro 90s */
:root {
  --bg: #020b02;
  --bg-alt: #041404;
  --scan: #0a2f0a;
  --fg: #d0ffd0;
  --fg-dim: #6fbf6f;
  --accent: #19ff19;
  --danger: #ff3b3b;
  --warning: #f7ff4a;
  --mono: 'IBM Plex Mono', monospace;
  --radius: 3px;
  --crt-glow: 0 0 4px #19ff19, 0 0 12px #0b4; 
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: var(--mono);
  background: radial-gradient(circle at 50% 50%, #021802 0%, #000 70%);
  color: var(--fg);
  line-height: 1.35;
  font-size: 15px;
  text-shadow: 0 0 2px #19ff19cc;
  overflow-x: hidden;
}

body::after { /* scan lines */
  content: '';
  pointer-events: none;
  position: fixed;
  inset: 0;
  background: repeating-linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0) 0,
    rgba(0, 0, 0, 0) 2px,
    rgba(0, 20, 0, 0.35) 2.5px
  );
  mix-blend-mode: overlay;
  opacity: .4;
  animation: flicker 6s linear infinite;
}

.skip-link { position:absolute; left:-999px; }
.skip-link:focus { left: 8px; top: 8px; background:#000; padding:4px 8px; }

.terminal {
  width: min(1100px, 95%);
  margin: 30px auto 60px;
  border: 1px solid var(--accent);
  background: #000d00;
  padding: 14px 16px 40px;
  border-radius: var(--radius);
  box-shadow: 0 0 12px #0a5, 0 0 60px #031703 inset;
  position: relative;
  overflow: hidden;
}

/* Asegura que el canvas quede detrás */
/* (Eliminado code rain canvas) */

.terminal::before { /* vignette */
  content: '';
  position: absolute;
  inset: 0;
  box-shadow: inset 0 0 60px #000;
  pointer-events:none;
}

.boot { color: var(--fg-dim); animation: typeIn .8s steps(40,end); }
.boot p { margin: 4px 0; }
.boot-hint { margin-top: 12px; color: var(--accent); }

.ascii { font-size: 10px; line-height: 1; margin: 0 0 12px; color: var(--accent); text-shadow: var(--crt-glow); }

.output { min-height: 260px; outline: none; }
.output .entry { margin: 0 0 10px; white-space: pre-wrap; word-break: break-word; }
.output .entry.command { color: var(--accent); }
.output .section-title { color: var(--accent); font-weight: 600; margin-top: 14px; }

.prompt-line { display: flex; align-items: center; gap: 6px; }
.prompt { color: var(--accent); }
#cmd {
  flex: 1;
  background: transparent;
  border: none;
  color: var(--fg);
  font: inherit;
  outline: none;
  caret-color: var(--accent);
  text-shadow: inherit;
}
#cmd::selection { background: var(--accent); color:#000; }

.footer { text-align: center; font-size: 12px; color: var(--fg-dim); margin-bottom: 30px; }
.footer .accent { color: var(--accent); }

/* Toggle modo */
.mode-toggle { display:flex; justify-content:flex-start; width:min(1100px,95%); margin:14px auto -4px; }
.btn-toggle { background:linear-gradient(#033003,#011d01); color:var(--accent); border:1px solid var(--accent); font-family:var(--mono); padding:8px 16px; cursor:pointer; border-radius:4px; font-size:15px; font-weight:500; letter-spacing:.5px; text-shadow:0 0 4px #19ff19; box-shadow:0 0 0 1px #0a3, 0 0 10px #0c4 inset, 0 0 8px #0a2; position:relative; transition:.25s background, .25s box-shadow, .25s transform; }
.btn-toggle:hover { background:linear-gradient(#044504,#022d02); box-shadow:0 0 0 1px var(--accent), 0 0 14px #19ff19, 0 0 10px #0c4 inset; }
.btn-toggle:active { transform:translateY(1px); }
.btn-toggle:focus-visible { outline:none; box-shadow:0 0 0 2px #19ff19, 0 0 10px #19ff19, 0 0 4px #19ff19 inset; }

/* Visual mode */
#visualMode { width:min(1100px,95%); margin:30px auto; background:#000d00; border:1px solid var(--accent); padding:20px 20px 40px; border-radius:var(--radius); box-shadow:0 0 14px #0a5, 0 0 50px #031703 inset; position:relative; }
.visual-nav { display:flex; flex-wrap:wrap; gap:14px; border-bottom:1px solid var(--accent); padding-bottom:10px; margin-bottom:20px; }
.visual-nav a { color:var(--accent); text-decoration:none; font-size:14px; position:relative; }
.visual-nav a::after { content:''; position:absolute; left:0; bottom:-2px; height:1px; width:0; background:var(--accent); transition:.3s; }
.visual-nav a:hover::after { width:100%; }
.visual-wrapper { display:grid; gap:34px; }
.v-section h2 { margin:0 0 10px; font-size:18px; color:var(--accent); text-shadow:var(--crt-glow); }
.v-section p, .v-section li { color:var(--fg-dim); }
.back-terminal { margin-top:40px; text-align:center; }

body[data-mode='visual'] .terminal { display:none; }
body[data-mode='visual'] #visualMode { display:block; }
body:not([data-mode='visual']) #visualMode { display:none; }

/* --- Harmonización visual --- */
/* Reducir protagonismo de badges y unificar paleta */
.badge { background:#011d01; border-color:#0c4e0c; box-shadow:none; color:var(--fg-dim); transition:.25s background,border-color,color; }
.badge:hover { background:#033703; color:var(--accent); border-color:var(--accent); }

/* Tarjetas (proyectos) menos saturadas, resaltan sólo al hover */
.card { border:1px solid #0c4e0c; box-shadow:0 0 0 #000; transition:.3s border, box-shadow, background; }
.card:hover { border-color:var(--accent); background:#002000; box-shadow:0 0 8px #0a4; }

/* Grupos de skills como mini-cards para simetría */
.skills-groups { display:grid; gap:14px; }
.skills-groups > div { background:transparent; border:none; padding:0 0 6px; border-radius:0; line-height:1.3; position:relative; }
.skills-groups > div strong { color:var(--accent); font-size:12px; letter-spacing:.5px; }
.skills-groups { font-size:14px; }
.skills-groups > div strong { font-size:14px; }
.skills-groups .badge { font-size:12px; padding:3px 7px; }
.skills-groups > div { line-height:1.45; }
@media (max-width:650px){
  .skills-groups { font-size:13.5px; }
  .skills-groups > div strong { font-size:13.5px; }
  .skills-groups .badge { font-size:11.5px; }
}

/* Separadores sutiles entre secciones visuales */
.v-section { position:relative; padding-bottom:6px; }
.v-section + .v-section { margin-top:38px; }
.v-section:not(:last-of-type)::after { content:''; position:absolute; left:0; right:0; bottom:-20px; height:1px; background:linear-gradient(90deg,transparent, #083008 15%, #083008 85%, transparent); opacity:.55; }

/* Uniform spacing for grid projects to align with skill blocks */
.grid-projects { margin-top:14px; }

/* Timeline tweaks for consistency */
.timeline { border-left:1px solid #0c4e0c; }
.timeline-item::before { background:var(--accent); box-shadow:0 0 4px #19ff19; }
.timeline-item h4 { font-weight:500; }

/* Headings underline for all sections */
.v-section h2 { position:relative; padding-bottom:4px; }
.v-section h2::after { content:''; position:absolute; left:0; bottom:0; height:2px; width:120px; background:linear-gradient(90deg,var(--accent),rgba(25,255,25,0)); box-shadow:0 0 6px #0a3; }

/* Adjust paragraph color for readability */
#visualMode p { color:#9ddf9d; }

/* Books / Lecturas */
.books-list { display:grid; gap:16px; }
.book-item { padding:10px 12px; border:1px solid #0c4e0c; border-radius:3px; background:#001300; transition:.3s border, background; }
.book-item:hover { border-color:var(--accent); background:#002000; }
.book-item h4 { margin:0 0 4px; font-size:14px; color:var(--accent); }
.book-item .meta { margin:0 0 6px; font-size:11px; color:var(--fg-dim); }
.book-item .takeaway { margin:0; font-size:12px; color:#b4f5b4; }
.book-item .topic { color:var(--accent); }
.badge[data-status='Leyendo'] { background:#033703; color:var(--accent); border-color:var(--accent); }
.badge[data-status='Leído'] { opacity:.7; }
.hint { font-size:11px; color:var(--fg-dim); margin-top:10px; }

.link { color: var(--accent); text-decoration: none; position: relative; }
.link::after { content: ''; position: absolute; left:0; bottom:-2px; height:1px; width:0; background:var(--accent); transition:.3s; }
.link:hover::after { width:100%; }

.badge { display: inline-block; padding:2px 6px; background: #022d02; border:1px solid var(--accent); margin:2px; font-size: 11px; border-radius:2px; box-shadow: 0 0 4px #0a3; }
.grid-projects { display: grid; grid-template-columns: repeat(auto-fill,minmax(240px,1fr)); gap:14px; margin-top: 8px; }
.card { border:1px solid var(--accent); background:#001300; padding:10px 12px; border-radius:3px; position: relative; overflow:hidden; }
.card h4 { margin:0 0 6px; color: var(--accent); font-size: 14px; }
.card p { margin:0 0 8px; font-size:12px; color: var(--fg-dim); }
.card .tags { font-size: 10px; }
.card::before { content:''; position:absolute; inset:0; background:linear-gradient(125deg,transparent 60%,rgba(25,255,25,0.06)); opacity:0; transition:.4s; }
.card:hover::before { opacity:1; }
.card:hover { box-shadow:0 0 8px #0a4; }

.timeline { border-left: 1px dashed var(--accent); margin: 10px 0 0 4px; padding-left: 14px; }
.timeline-item { margin-bottom: 14px; position: relative; }
.timeline-item::before { content: ''; position: absolute; left: -15px; top: 2px; width: 9px; height: 9px; background: var(--accent); border-radius: 50%; box-shadow:0 0 6px #1f2; }
.timeline-item h4 { margin:0 0 2px; font-size: 13px; color: var(--accent); }
.timeline-item span { font-size: 11px; color: var(--fg-dim); }

ul { margin: 4px 0 10px; padding-left: 16px; }
ul li { margin-bottom: 3px; }

::-webkit-scrollbar { width: 10px; }
::-webkit-scrollbar-track { background:#000; }
::-webkit-scrollbar-thumb { background:#013401; border:1px solid #0a0; }
::-webkit-scrollbar-thumb:hover { background:#025602; }

.no-js { background:#111; padding:10px; text-align:center; }
.pulse { animation: pulse 1.6s infinite; }

@keyframes pulse { 0%,100% { opacity:1;} 50% { opacity:.3; } }
@keyframes flicker { 0%,100% { opacity:.4;} 50% { opacity:.45;} }
@keyframes typeIn { from { opacity:0;} to { opacity:1;} }

@media (max-width:650px){
  body { font-size: 14px; }
  .ascii { font-size: 7px; }
  .grid-projects { grid-template-columns: repeat(auto-fill,minmax(180px,1fr)); }
}
